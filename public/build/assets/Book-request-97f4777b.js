import{r as _,a as S,v as A,c as l,b as a,u as x,w as c,F as g,o as n,X as $,d as e,e as w,f as u,g as b,t as d,j as p,k as L,h as q,l as N}from"./app-f5957278.js";import{_ as R}from"./AdminLayout-2696e8c0.js";import{P as y,D,_ as O}from"./dataTables.responsive-256ef2e5.js";import{M as V}from"./ModalForm-4937605e.js";import"./_plugin-vue_export-helper-c27b6911.js";const F={class:"w-full h-fullpx-5 px-5 lg:px-14 py-10 bg-gray-50"},H={class:"h-full"},I=e("div",{class:"flex items-center gap-2 text-2xl font-semibold text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})]),e("span",null,"Book Request")],-1),T={class:"mt-1 flex flex-col"},z={class:"py-5"},P={class:"mx-w-7xl mx-auto"},U={class:"bg-white overflow-hidden shadow sm:reounded-lg px-4 py-4"},E={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3 flex flex-row justify-between items-start",role:"alert"},X=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),G=[X],J={style:{"overflow-x":"auto"}},K=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border px-4 py-2 w-5 text-left"},"No."),e("th",{class:"border px-4 py-2 text-left"},"Image"),e("th",{class:"border px-4 py-2 w-0 text-left"},"Issued No."),e("th",{class:"border px-4 py-2 text-left"},"Borrower"),e("th",{class:"border px-4 py-2 text-left"},"Book Name"),e("th",{class:"border px-4 py-2 text-left"},"Fees ₱"),e("th",{class:"border px-4 py-2 text-left"},"To Return"),e("th",{class:"border px-4 py-2 text-left"},"Status"),e("th",{class:"px-3 py-2"},"Action")])],-1),Q={class:"border px-4 py-2"},W={class:"border px-4 py-2 w-20"},Y=["src"],Z={class:"border px-4 py-2"},ee={class:"border px-4 py-2"},te={class:"border px-4 py-2"},se={class:"border px-4 py-2"},oe={class:"border px-4 py-2"},le={key:0,class:"border px-4 py-2 text-white text-center"},ne=e("p",{class:"bg-green-500 w-20 rounded"},"Approved",-1),de=[ne],re={key:1,class:"border px-4 py-2 text-white text-center"},ae=e("p",{class:"bg-orange-500 w-20 rounded"},"Pending",-1),ie=[ae],ce={key:2,class:"border px-4 py-2 text-white text-center"},ue=e("p",{class:"bg-red-500 w-20 rounded"},"Rejected",-1),pe=[ue],he={class:"border px-4 py-2 h-20"},_e={class:"flex justify-center gap-2"},xe=["onClick"],be=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),me=[be],fe=["onClick"],ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),we=[ge],ye=["onSubmit"],ve={class:"mb-4 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ke=e("span",null,"Select Action:",-1),Ce=e("option",{value:"disabled",disabled:""},"Select status",-1),Be=e("option",{value:"1"},"Approve",-1),Me=e("option",{value:"0"},"Reject",-1),je=[Ce,Be,Me],Se={class:"bg-gray-100 px-4 py-2 sm:px-6 sm:flex sm:flex-row-reverse"},Ae={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto flex flex-row gap-2"},$e=["disabled"],Oe={__name:"Book-request",props:{books:Object},setup(v){const m=_(!0),h=_("disabled"),k=_("/uploads/");y.use(D);const i=S({isOpen:null}),s=A({id:null,status:null}),C=r=>{i.isOpen=!0,s.id=r},f=()=>{s.status=h.value,i.isOpen=null,s.put(route("admin-book-request.update")),s.reset(),window.location.reload()},B=r=>{s.id=r,window.confirm("Are you sure you want to delete this item?")&&(s.delete(route("admin-book-request.destroy")),s.reset(),window.location.reload())};return(r,o)=>(n(),l(g,null,[a(x($),{title:"Admin Dashboard"}),a(R,null,{default:c(()=>[e("div",F,[e("div",H,[I,e("div",T,[a(O,null,{default:c(()=>[w(" Book Request ")]),_:1})]),e("div",z,[e("div",P,[e("div",U,[r.$page.props.flash.message?u((n(),l("div",E,[w(d(r.$page.props.flash.message)+" ",1),e("button",{class:"text-gray-500 hover:text-blue-400",onClick:o[0]||(o[0]=t=>m.value=!1)},G)],512)),[[b,m.value]]):p("",!0),e("div",J,[a(x(y),{class:"display nowrap h-full"},{default:c(()=>[K,e("tbody",null,[(n(!0),l(g,null,L(v.books,(t,M)=>(n(),l("tr",{key:t.id},[e("td",Q,d(M+1),1),e("td",W,[e("img",{src:k.value+t.book_img,style:{width:"64px",height:"64px"}},null,8,Y)]),e("td",Z,d(t.id),1),e("td",ee,d(t.user_name),1),e("td",te,d(t.book_name),1),e("td",se,"₱ "+d(t.book_fees)+".00",1),e("td",oe,d(t.to_return),1),t.status==1?(n(),l("td",le,de)):p("",!0),t.status==2?(n(),l("td",re,ie)):p("",!0),t.status==0?(n(),l("td",ce,pe)):p("",!0),e("td",he,[e("div",_e,[u(e("button",{class:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full rounded",onClick:j=>C(t.id)},me,8,xe),[[b,t.status!=1]]),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-bold p-2 rounded-full",onClick:j=>B(t.id)},we,8,fe)])])]))),128))])]),_:1})]),u(a(V,{class:"display nowrap"},{default:c(()=>[e("form",{onSubmit:q(f,["prevent"])},[e("div",ve,[e("div",null,[ke,u(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>h.value=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},je,512),[[N,h.value]])])]),e("div",Se,[e("span",Ae,[e("button",{type:"submit",disabled:x(s).processing,onClick:o[2]||(o[2]=t=>f()),class:"inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Update ",8,$e),e("span",{onClick:o[3]||(o[3]=t=>i.isOpen=null),class:"cursor-pointer inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-gray-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-gray-600 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])],40,ye)]),_:1},512),[[b,i.isOpen]])])])])])])]),_:1})],64))}};export{Oe as default};
