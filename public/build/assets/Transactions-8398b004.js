import{r as x,a as M,v as A,c as o,b as r,u as b,w as u,F as g,o as n,X as B,d as e,e as y,f as d,g as p,t as l,j as _,k as S,h as j,l as V}from"./app-f5957278.js";import{_ as N}from"./AdminLayout-2696e8c0.js";import{P as w,D as $,_ as O}from"./dataTables.responsive-256ef2e5.js";import{M as T}from"./ModalForm-4937605e.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"w-full h-full px-5 lg:px-14 py-10 bg-gray-50"},L={class:"h-full"},F=e("div",{class:"flex items-center gap-2 text-2xl font-semibold text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 3.75V16.5L12 14.25 7.5 16.5V3.75m9 0H18A2.25 2.25 0 0120.25 6v12A2.25 2.25 0 0118 20.25H6A2.25 2.25 0 013.75 18V6A2.25 2.25 0 016 3.75h1.5m9 0h-9"})]),e("span",null,"Transactions")],-1),H={class:"mt-1 flex flex-col"},U={class:"py-5"},P={class:"mx-w-7xl mx-auto"},z={class:"bg-white overflow-hidden shadow sm:reounded-lg px-4 py-4"},E={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3 flex flex-row justify-between items-start",role:"alert"},I=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),K=[I],X={style:{"overflow-x":"auto"}},q=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border px-4 py-2 w-5 text-left"},"No."),e("th",{class:"border px-4 py-2 w-0 text-left"},"Book No."),e("th",{class:"border px-4 py-2 w-0 text-left"},"User Name"),e("th",{class:"border px-4 py-2 text-left"},"Book Name"),e("th",{class:"border px-4 py-2 text-left"},"Book Fee"),e("th",{class:"border px-4 py-2 text-left"},"Status"),e("th",{class:"px-3 py-2"},"Action")])],-1),G={class:"border px-4 py-2"},J={class:"border px-4 py-2"},Q={class:"border px-4 py-2"},R={class:"border px-4 py-2"},W={class:"border px-4 py-2"},Y={key:0,class:"border px-4 py-2 text-white text-center"},Z=e("p",{class:"bg-green-500 rounded"},"Paid",-1),ee=[Z],te={key:1,class:"border px-4 py-2 text-white text-center"},se=e("p",{class:"bg-orange-500 rounded"},"Over-The-Counter",-1),oe=[se],ne={key:2,class:"border px-4 py-2 text-white text-center"},le=e("p",{class:"bg-red-500 rounded"},"Unpaid",-1),ae=[le],re={class:"border px-4 py-2 h-20"},de={class:"flex justify-center gap-2"},ie=["onClick"],ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ue=[ce],pe=["onSubmit"],_e={class:"mb-4 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},he=e("span",null,"Select Action:",-1),xe=e("option",{value:"disabled",disabled:""},"Select",-1),be=e("option",{value:"1"},"Mark as Paid",-1),me=[xe,be],fe={class:"bg-gray-100 px-4 py-2 sm:px-6 sm:flex sm:flex-row-reverse"},ge={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto flex flex-row gap-2"},ye=["disabled"],Be={__name:"Transactions",props:{transactions:Object},setup(v){const m=x(!0),h=x("disabled");x("/uploads/"),w.use($);const i=M({isOpen:null}),a=A({id:null,action:null}),k=c=>{i.isOpen=!0,a.id=c},f=()=>{a.action=h.value,i.isOpen=null,a.put(route("transactions.update")),a.reset(),window.location.reload()};return(c,s)=>(n(),o(g,null,[r(b(B),{title:"Admin Dashboard"}),r(N,null,{default:u(()=>[e("div",D,[e("div",L,[F,e("div",H,[r(O,null,{default:u(()=>[y(" Transactions ")]),_:1})]),e("div",U,[e("div",P,[e("div",z,[c.$page.props.flash.message?d((n(),o("div",E,[y(l(c.$page.props.flash.message)+" ",1),e("button",{class:"text-gray-500 hover:text-blue-400",onClick:s[0]||(s[0]=t=>m.value=!1)},K)],512)),[[p,m.value]]):_("",!0),e("div",X,[r(b(w),{class:"display nowrap h-full"},{default:u(()=>[q,e("tbody",null,[(n(!0),o(g,null,S(v.transactions,(t,C)=>(n(),o("tr",{key:t.id},[e("td",G,l(C+1),1),e("td",J,"BK-"+l(t.book_id),1),e("td",Q,l(t.user_name),1),e("td",R,l(t.book_name),1),e("td",W,"â‚± "+l(t.book_fees)+".00",1),t.action==1?(n(),o("td",Y,ee)):_("",!0),t.action==2?(n(),o("td",te,oe)):_("",!0),t.action==0?(n(),o("td",ne,ae)):_("",!0),e("td",re,[e("div",de,[d(e("button",{class:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full rounded",onClick:we=>k(t.id)},ue,8,ie),[[p,t.action!=1]]),d(e("p",null," Completed ",512),[[p,t.action==1]])])])]))),128))])]),_:1})]),d(r(T,{class:"display nowrap"},{default:u(()=>[e("form",{onSubmit:j(f,["prevent"])},[e("div",_e,[e("div",null,[he,d(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>h.value=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},me,512),[[V,h.value]])])]),e("div",fe,[e("span",ge,[e("button",{type:"submit",disabled:b(a).processing,onClick:s[2]||(s[2]=t=>f()),class:"inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Update ",8,ye),e("span",{onClick:s[3]||(s[3]=t=>i.isOpen=null),class:"cursor-pointer inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-gray-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-gray-600 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])],40,pe)]),_:1},512),[[p,i.isOpen]])])])])])])]),_:1})],64))}};export{Be as default};
