import{r as m,a as W,v as U,c as i,b as f,u as s,w as h,F as _,o as d,X as z,d as e,e as $,f as a,g as M,h as q,i as b,k as y,l as v,t as r,j as V}from"./app-f5957278.js";import{_ as E}from"./AdminLayout-2696e8c0.js";import{P as F,D as P,_ as X}from"./dataTables.responsive-256ef2e5.js";import{A as G}from"./ActionButton-3d2480d3.js";import{M as O}from"./ModalForm-4937605e.js";import"./_plugin-vue_export-helper-c27b6911.js";const J={class:"w-full h-full px-5 py-5 lg:px-10 lg:py-10 bg-gray-50"},K={class:"h-full"},R=e("div",{class:"flex items-center gap-2 text-2xl font-semibold text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})]),e("span",null,"Manage Books")],-1),Y={class:"mt-1 flex flex-col"},Z={class:"mt-3"},ee=e("p",{class:"flex items-center text-md"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})]),e("span",{class:"mt-1 ms-2"},"Add Book")],-1),oe=["onSubmit"],te={class:"mb-4 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},se={class:"mb-3"},le=e("label",{for:"formFile",class:"block text-gray-500 text-sm font-bold mb-2"},"Add Image",-1),ne={class:"mb-3"},ae=e("label",{for:"book_name",class:"block text-gray-500 text-sm font-bold mb-2"},"Book Information",-1),ie={class:"mb-2"},de={class:"mb-2"},re=e("option",{value:"disabled",disabled:""},"Choose authors",-1),ue=["value"],pe={class:"mb-2"},ce=e("option",{value:"disabled",disabled:""},"Choose categories",-1),be=["value"],fe={class:"mb-3"},me={class:"mb-3"},he={class:"bg-gray-100 px-4 py-2 sm:px-6 sm:flex sm:flex-row-reverse"},_e={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto flex flex-row gap-2"},ge=["disabled"],xe={class:"py-5"},ye={class:"mx-w-7xl mx-auto"},ve={class:"bg-white overflow-hidden shadow sm:reounded-lg px-4 py-4"},we={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3 flex flex-row justify-between items-start",role:"alert"},ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Ce=[ke],Be={style:{"overflow-x":"auto"}},Me=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border px-4 py-2 w-5 text-left"},"No."),e("th",{class:"border px-4 py-2 text-left"},"Image"),e("th",{class:"border px-4 py-2 text-left"},"Book Name"),e("th",{class:"border px-4 py-2 text-left"},"Category"),e("th",{class:"border px-4 py-2 text-left"},"Author"),e("th",{class:"border px-4 py-2 text-left"},"Qty"),e("th",{class:"border px-4 py-2 text-left"},"Fees ₱"),e("th",{class:"border px-4 py-2 text-left"},"Status"),e("th",{class:"px-3 py-2"},"Action")])],-1),Ve={class:"border px-4 py-2"},Ae={class:"border px-4 py-2 w-20"},je=["src"],Ue={class:"border px-4 py-2"},$e={class:"border px-4 py-2"},qe={class:"border px-4 py-2"},Fe={class:"border px-4 py-2"},Oe={class:"border px-4 py-2"},Se={key:0,class:"border px-4 py-2 text-white text-center"},Ie=e("p",{class:"bg-green-500 w-20 rounded"},"Active",-1),Le=[Ie],Ne={key:1,class:"border px-4 py-2 text-white text-center"},De=e("p",{class:"bg-red-500 w-20 rounded"},"Inactive",-1),Qe=[De],He={class:"border px-4 py-2 h-20"},Te={class:"flex justify-center gap-2"},We=["onClick"],ze=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),Ee=[ze],Pe=["onClick"],Xe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Ge=[Xe],Je={class:"mb-4 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ke={class:"mb-3"},Re=e("label",{for:"formFile",class:"block text-gray-500 text-sm font-bold mb-2"},"Update Image",-1),Ye={class:"mb-3"},Ze=e("label",{for:"book_name",class:"block text-gray-500 text-sm font-bold mb-2"},"Book Information",-1),eo={class:"mb-2"},oo=e("option",{value:"1"},"Activate",-1),to=e("option",{value:"0"},"Deactivate",-1),so=[oo,to],lo={class:"mb-2"},no=e("option",{value:"disabled",disabled:""},"Choose authors",-1),ao=["value"],io={class:"mb-2"},ro=e("option",{value:"disabled",disabled:""},"Choose categories",-1),uo=["value"],po={class:"mb-3"},co=e("label",{for:"quantity",class:"text-gray-500"},"Quantity:",-1),bo={class:"mb-3"},fo=e("label",{for:"book_fees",class:"text-gray-500"},"Book Fee ₱",-1),mo={class:"bg-gray-100 px-4 py-2 sm:px-6 sm:flex sm:flex-row-reverse"},ho={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto flex flex-row gap-2"},_o=["disabled"],Co={__name:"Manage-books",props:{books:Object,categories:Object,authors:Object},setup(g){const w=m(!1),A=m(!0),u=m("disabled"),p=m("disabled"),k=m(1),S=m("/uploads/");F.use(P);const x=W({isOpen:null}),n=U({book_img:null,book_name:null,description:null,category_id:null,author_id:null,book_fees:null,quantity:null,is_active:null}),l=U({book_img:null,book_name:null,description:null,category_id:null,author_id:null,book_fees:null,quantity:null,is_active:null}),j=(c,t,o,C,B,D,Q,H,T)=>{x.isOpen=c,l.book_name=o,l.description=C,p.value=B,u.value=D,l.book_fees=H,l.quantity=Q,l.is_active=T},I=()=>{n.book_fees==null&&(n.book_fees=0),u.value=="disabled"&&(u.value=null),p.value=="disabled"&&p.value==null,n.is_active=1,n.category_id=p.value,n.author_id=u.value,n.post("/admin/add-book",{preserveScroll:!0,onSuccess:()=>{n.reset(),window.location.reload()}})},L=c=>{window.confirm("Are you sure you want to delete this item?")&&(n.post(`/admin/delete-book/${c}`),n.reset(),window.location.reload())},N=c=>{x.isOpen=null,l.is_active=k.value,l.category_id=p.value,l.author_id=u.value,l.post(`/admin/update-book/${c}`),l.reset(),window.location.reload()};return(c,t)=>(d(),i(_,null,[f(s(z),{title:"Admin Dashboard"}),f(E,null,{default:h(()=>[e("div",J,[e("div",K,[R,e("div",Y,[f(X,null,{default:h(()=>[$(" Manage Books ")]),_:1}),e("div",Z,[f(G,{onClick:t[0]||(t[0]=o=>w.value=!0)},{default:h(()=>[ee]),_:1}),a(f(O,null,{default:h(()=>[e("form",{onSubmit:q(I,["prevent"])},[e("div",te,[e("div",se,[le,e("input",{class:"relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",onInput:t[1]||(t[1]=o=>s(n).book_img=o.target.files[0]),type:"file",id:"formFile"},null,32)]),e("div",ne,[ae,a(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[2]||(t[2]=o=>s(n).book_name=o),id:"book_name",placeholder:"Name of the book"},null,512),[[b,s(n).book_name]])]),e("div",ie,[a(e("textarea",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-[100px]","onUpdate:modelValue":t[3]||(t[3]=o=>s(n).description=o),id:"description",placeholder:"Write book description..."},`
                    `,512),[[b,s(n).description]])]),e("div",de,[a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>u.value=o),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[re,(d(!0),i(_,null,y(g.authors,o=>(d(),i("option",{key:o.id,value:o.id},r(o.author_name),9,ue))),128))],512),[[v,u.value]])]),e("div",pe,[a(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>p.value=o),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[ce,(d(!0),i(_,null,y(g.categories,o=>(d(),i("option",{key:o.id,value:o.id},r(o.category_name),9,be))),128))],512),[[v,p.value]])]),e("div",fe,[a(e("input",{type:"number",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[6]||(t[6]=o=>s(n).quantity=o),id:"quantity",placeholder:"Book Qty."},null,512),[[b,s(n).quantity]])]),e("div",me,[a(e("input",{type:"number",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[7]||(t[7]=o=>s(n).book_fees=o),id:"book_fees",placeholder:"Fees ₱ (Optional)"},null,512),[[b,s(n).book_fees]])])]),e("div",he,[e("span",_e,[e("button",{type:"submit",disabled:s(n).processing,onClick:t[8]||(t[8]=o=>w.value=!1),class:"inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Save ",8,ge),e("span",{onClick:t[9]||(t[9]=o=>w.value=!1),class:"cursor-pointer inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-gray-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-gray-600 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])],40,oe)]),_:1},512),[[M,w.value]])])]),e("div",xe,[e("div",ye,[e("div",ve,[c.$page.props.flash.message?a((d(),i("div",we,[$(r(c.$page.props.flash.message)+" ",1),e("button",{class:"text-gray-500 hover:text-blue-400",onClick:t[10]||(t[10]=o=>A.value=!1)},Ce)],512)),[[M,A.value]]):V("",!0),e("div",Be,[f(s(F),{class:"display nowrap h-full"},{default:h(()=>[Me,e("tbody",null,[(d(!0),i(_,null,y(g.books,(o,C)=>(d(),i("tr",{key:o.id},[e("td",Ve,r(C+1),1),e("td",Ae,[e("img",{src:S.value+o.book_img,style:{width:"64px",height:"64px"}},null,8,je)]),e("td",Ue,r(o.book_name),1),e("td",$e,r(o.category),1),e("td",qe,r(o.author),1),e("td",Fe,r(o.quantity),1),e("td",Oe,"₱"+r(o.book_fees),1),o.is_active==1?(d(),i("td",Se,Le)):V("",!0),o.is_active==0?(d(),i("td",Ne,Qe)):V("",!0),e("td",He,[e("div",Te,[e("button",{class:"bg-blue-500 hover:bg-blue-600 text-white p-2 rounded-full rounded",onClick:B=>j(o.id,o.book_img,o.book_name,o.description,o.category_id,o.author_id,o.quantity,o.book_fees,o.is_active)},Ee,8,We),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-bold p-2 rounded-full",onClick:B=>L(o.id)},Ge,8,Pe)])])]))),128))])]),_:1})]),a(f(O,{class:"display nowrap"},{default:h(()=>[e("form",{onSubmit:t[21]||(t[21]=q(o=>j(),["prevent"]))},[e("div",Je,[e("div",Ke,[Re,e("input",{class:"relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary",onInput:t[11]||(t[11]=o=>s(l).book_img=o.target.files[0]),type:"file",id:"formFile"},null,32)]),e("div",Ye,[Ze,a(e("input",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[12]||(t[12]=o=>s(l).book_name=o),id:"book_name",placeholder:"Name of the book"},null,512),[[b,s(l).book_name]])]),e("div",eo,[a(e("textarea",{type:"text",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-[100px]","onUpdate:modelValue":t[13]||(t[13]=o=>s(l).description=o),id:"description",placeholder:"Write book description..."},`
                      `,512),[[b,s(l).description]])]),e("div",null,[a(e("select",{"onUpdate:modelValue":t[14]||(t[14]=o=>k.value=o),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},so,512),[[v,k.value]])]),e("div",lo,[a(e("select",{"onUpdate:modelValue":t[15]||(t[15]=o=>u.value=o),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[no,(d(!0),i(_,null,y(g.authors,o=>(d(),i("option",{key:o.id,value:o.id},r(o.author_name),9,ao))),128))],512),[[v,u.value]])]),e("div",io,[a(e("select",{"onUpdate:modelValue":t[16]||(t[16]=o=>p.value=o),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},[ro,(d(!0),i(_,null,y(g.categories,o=>(d(),i("option",{key:o.id,value:o.id},r(o.category_name),9,uo))),128))],512),[[v,p.value]])]),e("div",po,[co,a(e("input",{type:"number",class:"shadow appearance-none border rounded w-full py-2 px-3 mt-1 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[17]||(t[17]=o=>s(l).quantity=o),id:"quantity",placeholder:"Book Qty."},null,512),[[b,s(l).quantity]])]),e("div",bo,[fo,a(e("input",{type:"number",class:"shadow appearance-none border rounded w-full py-2 px-3 mt-1 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":t[18]||(t[18]=o=>s(l).book_fees=o),id:"book_fees",placeholder:"Fees ₱ (Optional)"},null,512),[[b,s(l).book_fees]])])]),e("div",mo,[e("span",ho,[e("button",{type:"submit",disabled:s(l).processing,onClick:t[19]||(t[19]=o=>N(x.isOpen)),class:"inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Update ",8,_o),e("span",{onClick:t[20]||(t[20]=o=>x.isOpen=null),class:"cursor-pointer inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-gray-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-gray-600 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])],32)]),_:1},512),[[M,x.isOpen]])])])])])])]),_:1})],64))}};export{Co as default};
