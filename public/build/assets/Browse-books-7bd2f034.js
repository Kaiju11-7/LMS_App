import{r as i,J as x,v as B,c as l,b as v,u,w as f,F as p,o as r,X as L,d as t,f as y,i as j,l as V,k as b,j as A,t as c,e as w}from"./app-f5957278.js";import{_ as N}from"./AuthenticatedLayout-fa00232b.js";import"./lms_logo-1-f2b4f13d.js";import"./_plugin-vue_export-helper-c27b6911.js";const T=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Browse Books",-1),D={class:"px-6 py-10 mx-auto max-w-screen-xl"},M={class:"flex justify-between mb-4 flex-col md:flex-row gap-3"},S=t("option",{value:"All"},"All",-1),$=["value"],F={key:0,class:"w-full px-1"},O=t("p",{class:"text-gray-500"},"Not Found",-1),U=[O],q={class:"grid grid-cols-1 gap-4 md:gap-8 md:grid-cols-2 xl:grid-cols-3"},E=["onClick"],J=t("span",{class:"absolute bg-blue-100 top-3 px-2 text-blue-600 rounded-lg"},"Tap to see details",-1),X=["src"],z={class:"mt-8"},G={class:"text-blue-500 font-normal"},H={class:"mt-2 text-xl font-semibold text-gray-800 dark:text-white"},I={class:"text-gray-500"},K={class:"mt-2 text-gray-500 dark:text-gray-400 truncate"},P=t("span",{class:"text-gray-500 font-semibold"},[w("Book Description"),t("br")],-1),Z={__name:"Browse-books",props:{books:Object},setup(_){const g=_,k=i("/uploads/"),a=i(""),n=i("All");x(()=>{const o=new Set;o.add("All");for(const e of Object.values(g.books))o.add(e.category);return[""].concat([...o])});const m=x(()=>Object.values(g.books).filter(e=>{const s=e.category&&e.category.toLowerCase().includes(a.value.toLowerCase())||e.name&&e.name.toLowerCase().includes(a.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(a.value.toLowerCase())||e.author&&e.author.toLowerCase().includes(a.value.toLowerCase()),h=n.value===""||n.value==="All"||n.value===e.category;return s&&h})),d=B({id:null,user_id:null}),C=(o,e)=>{d.user_id=e,d.get(`/book-details/${o}`),d.reset()};return(o,e)=>(r(),l(p,null,[v(u(L),{title:"Browse Books"}),v(N,null,{header:f(()=>[T]),default:f(()=>[t("div",D,[t("div",M,[y(t("input",{type:"text",class:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-md focus:outline-none","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),placeholder:"Search books"},null,512),[[j,a.value]]),t("div",null,[y(t("select",{class:"appearance-none w-full md:w-48 px-4 py-2 border border-gray-300 rounded-md","onUpdate:modelValue":e[1]||(e[1]=s=>n.value=s)},[S,(r(!0),l(p,null,b(_.books,s=>(r(),l("option",{value:s.category,key:s.id},c(s.category),9,$))),128))],512),[[V,n.value]])])]),u(m).length===0?(r(),l("div",F,U)):A("",!0),t("div",q,[(r(!0),l(p,null,b(u(m),s=>(r(),l("div",{class:"bg-white shadow px-5 py-6 rounded-lg cursor-pointer relative",key:s.id,onClick:h=>C(s.id,o.$page.props.auth.user.id)},[J,t("img",{class:"object-cover object-center w-full h-64 rounded-lg lg:h-70",src:k.value+s.book_img},null,8,X),t("div",z,[t("span",G,c(s.category),1),t("h3",H,c(s.book_name),1),t("p",I,c(s.author),1),t("p",K,[P,w(" "+c(s.description),1)])])],8,E))),128))])])]),_:1})],64))}};export{Z as default};
