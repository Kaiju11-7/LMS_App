import{r as _,a as j,v as A,c as n,b as i,u,w as p,F as b,o as a,X as L,d as e,e as g,f as c,g as w,t as d,j as h,k as B,h as D,i as O,l as V}from"./app-f5957278.js";import{_ as N}from"./AdminLayout-2696e8c0.js";import{P as v,D as S,_ as F}from"./dataTables.responsive-256ef2e5.js";import{M as z}from"./ModalForm-4937605e.js";import"./_plugin-vue_export-helper-c27b6911.js";const H={class:"w-full h-fullpx-5 px-5 lg:px-14 py-10 bg-gray-50"},R={class:"h-full"},T=e("div",{class:"flex items-center gap-2 text-2xl font-semibold text-gray-700"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})]),e("span",null,"User Management")],-1),E={class:"mt-1 flex flex-col"},P={class:"py-5"},X={class:"mx-w-7xl mx-auto"},q={class:"bg-white overflow-hidden shadow sm:reounded-lg px-4 py-4"},G={key:0,class:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md my-3 flex flex-row justify-between items-start",role:"alert"},I=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),J=[I],K={style:{"overflow-x":"auto"}},Q=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"border px-4 py-2 w-5 text-left"},"No."),e("th",{class:"border px-4 py-2 text-left"},"Profile"),e("th",{class:"border px-4 py-2 text-left"},"Full Name"),e("th",{class:"border px-4 py-2 text-left"},"Email"),e("th",{class:"px-3 py-2"},"Role"),e("th",{class:"px-3 py-2"},"Created Date"),e("th",{class:"px-3 py-2"},"Updated Date"),e("th",{class:"px-3 py-2"},"Action")])],-1),W={class:"border px-4 py-2"},Y={class:"border px-4 py-2"},Z=["src"],ee={class:"border px-4 py-2"},te={class:"border px-4 py-2"},se={key:0,class:"border px-4 py-2"},oe={key:1,class:"border px-4 py-2"},le={class:"border px-4 py-2"},ne={class:"border px-4 py-2"},ae={class:"border px-4 py-2 h-20"},de={class:"flex justify-center gap-2"},re=["onClick"],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),ue=[ie],pe=["onClick"],ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 25","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),me=[ce],_e={class:"mb-4 px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},he=e("label",{for:"full_name",class:"block text-gray-700 text-sm font-bold mb-2"},"Update User Role",-1),fe=e("option",{value:"disabled"},"Set a role",-1),xe=e("option",{value:"1"},"Admin",-1),be=e("option",{value:"0"},"User",-1),ge=[fe,xe,be],we={class:"bg-gray-100 px-4 py-2 sm:px-6 sm:flex sm:flex-row-reverse"},ve={class:"flex w-full rounded-md shadow-sm sm:ml-3 sm:w-auto flex flex-row gap-2"},ye=["disabled"],je={__name:"User-management",props:{users:Object},setup(y){const f=_(!0),m=_("disabled"),k=_("/profile/");v.use(S);const r=j({isOpen:null}),o=A({is_admin:null}),C=(l,s)=>{r.isOpen=s,o.full_name=l},x=l=>{r.isOpen=null,o.is_admin=m.value,o.patch(`/admin/update-user/${l}`),o.reset(),window.location.reload()},M=l=>{window.confirm("Are you sure you want to delete this item?")&&(o.post(`/admin/delete-user/${l}`),o.reset(),window.location.reload())};return(l,s)=>(a(),n(b,null,[i(u(L),{title:"Admin Dashboard"}),i(N,null,{default:p(()=>[e("div",H,[e("div",R,[T,e("div",E,[i(F,null,{default:p(()=>[g(" User Management ")]),_:1})]),e("div",P,[e("div",X,[e("div",q,[l.$page.props.flash.message?c((a(),n("div",G,[g(d(l.$page.props.flash.message)+" ",1),e("button",{class:"text-gray-500 hover:text-blue-400",onClick:s[0]||(s[0]=t=>f.value=!1)},J)],512)),[[w,f.value]]):h("",!0),e("div",K,[i(u(v),{class:"display nowrap h-full"},{default:p(()=>[Q,e("tbody",null,[(a(!0),n(b,null,B(y.users,(t,U)=>(a(),n("tr",{key:t.id},[e("td",W,d(U+1),1),e("td",Y,[e("img",{src:k.value+t.profile_img,style:{width:"64px",height:"64px"}},null,8,Z)]),e("td",ee,d(t.name),1),e("td",te,d(t.email),1),t.is_admin==1?(a(),n("td",se,"Admin")):h("",!0),t.is_admin==0?(a(),n("td",oe,"User")):h("",!0),e("td",le,d(t.created_at),1),e("td",ne,d(t.updated_at),1),e("td",ae,[e("div",de,[e("button",{class:"bg-blue-500 hover:bg-blue-600 text-white font-bold p-2 rounded-full",onClick:$=>C(t.name,t.id)},ue,8,re),e("button",{class:"bg-red-500 hover:bg-red-600 text-white font-bold p-2 rounded-full",onClick:$=>M(t.id)},me,8,pe)])])]))),128))])]),_:1})]),c(i(z,{class:"display nowrap"},{default:p(()=>[e("form",{onSubmit:s[5]||(s[5]=D(t=>x(),["prevent"]))},[e("div",_e,[e("div",null,[he,c(e("input",{type:"text",disabled:"",class:"shadow appearance-none border rounded bg-gray-200 w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":s[1]||(s[1]=t=>u(o).full_name=t),id:"full_name"},null,512),[[O,u(o).full_name]])]),e("div",null,[c(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>m.value=t),class:"block appearance-none w-full bg-white border border-gray-400 hover:border-gray-500 px-4 py-2 pr-8 mt-3 text-gray-500 rounded shadow leading-tight focus:outline-none focus:shadow-outline"},ge,512),[[V,m.value]])])]),e("div",we,[e("span",ve,[e("button",{type:"submit",disabled:u(o).processing,onClick:s[3]||(s[3]=t=>x(r.isOpen)),class:"inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-blue-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-blue-600 focus:outline-none focus:border-blue-700 focus:shadow-outline-blue transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Save ",8,ye),e("span",{onClick:s[4]||(s[4]=t=>r.isOpen=null),class:"cursor-pointer inline-flex justify-center w-full rounded-md border border-transparent px-8 py-2 bg-gray-500 text-base leading-6 font-medium text-white shadow-sm hover:bg-gray-600 focus:outline-none focus:border-gray-700 focus:shadow-outline-gray transition ease-in-out duration-150 sm:text-sm sm:leading-5"}," Close ")])])],32)]),_:1},512),[[w,r.isOpen]])])])])])])]),_:1})],64))}};export{je as default};
